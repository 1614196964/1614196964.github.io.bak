<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/1614196964.github.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/1614196964.github.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/1614196964.github.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/1614196964.github.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/1614196964.github.io/css/main.css">


<link rel="stylesheet" href="/1614196964.github.io/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"1614196964.github.io","root":"/1614196964.github.io/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="敬平静，以及那些破坏平静的人">
<meta property="og:type" content="website">
<meta property="og:title" content="LaLaLand">
<meta property="og:url" content="https://1614196964.github.io/index.html">
<meta property="og:site_name" content="LaLaLand">
<meta property="og:description" content="敬平静，以及那些破坏平静的人">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="苏小栋">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://1614196964.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>LaLaLand</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/1614196964.github.io/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">LaLaLand</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">想问圣诞夜和超社会哪一首更可怕?</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/1614196964.github.io/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/1614196964.github.io/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://1614196964.github.io/2022/07/29/C++/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/1614196964.github.io/images/avatar.gif">
      <meta itemprop="name" content="苏小栋">
      <meta itemprop="description" content="敬平静，以及那些破坏平静的人">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaLaLand">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1614196964.github.io/2022/07/29/C++/" class="post-title-link" itemprop="url">C++ 面试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-07-29 22:46:06 / 修改时间：22:10:51" itemprop="dateCreated datePublished" datetime="2022-07-29T22:46:06+08:00">2022-07-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="命名空间namespace"><a href="#命名空间namespace" class="headerlink" title="命名空间namespace"></a>命名空间namespace</h2><p>为了避免使用类库的时候，导致命名冲突，引入关键字namespace，来更好的控制标识符的作用域</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">namespace</span> A&#123;</span><br><span class="line">    <span class="built_in">func</span>()&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;命名空间A&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>命名空间可以嵌套定义，即在一个命名空间中可以定义另一个命名空间</p>
<p>命名空间只能全局定义</p>
<p>命名空间是开放的，即可以随时把新的成员加入已有的命名空间当中</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> A&#123;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">int</span> b = <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> A&#123;</span><br><span class="line">	<span class="keyword">int</span> c = <span class="number">300</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>命名空间里的函数可以在外面实现</p>
<p>无名命名空间，意味着命名空间标识符只能在本文件内访问</p>
<h2 id="using指令"><a href="#using指令" class="headerlink" title="using指令"></a>using指令</h2><p>用using namespace 指令可以在使用命名空间的时候不加命名空间名字。</p>
<p>可以直接using namespace 整个命名空间，using namespace std;</p>
<p>也可以用某个命名空间内的函数或变量，using std::cout</p>
<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2><p>在32位操作系统下，占用4个字节；64位下，占8个字节</p>
<h3 id="空指针"><a href="#空指针" class="headerlink" title="空指针"></a>空指针</h3><p>指针变量指向内存中编号为0的空间<code>int* p = NULL</code></p>
<p>用途：初始化指针变量</p>
<p>注意：空指针指向的内存是不可以访问的,0~255 之间的内存编号为系统占用内存，不允许用户访问</p>
<h3 id="野指针"><a href="#野指针" class="headerlink" title="野指针"></a>野指针</h3><p>指针变量指向非法的内存空间，该内存空间不是我们申请的</p>
<p>当访问的时候，编译可以通过，但是运行出错</p>
<p>空指针和野指针都不是我们申请的内存空间，因此不要访问</p>
<h3 id="const和指针"><a href="#const和指针" class="headerlink" title="const和指针"></a>const和指针</h3><ul>
<li><p>常量指针<code>const int* p = &amp;a</code> </p>
<ul>
<li>指针的指向可以修改，但指针指向的值不可以改</li>
<li>const 后面紧跟的是<code>*</code>，所以取<code>*</code>操作就不允许了，也就是指向变量的值不可以改变</li>
</ul>
</li>
<li><p>指针常量<code>int* const p = &amp;a</code> </p>
<ul>
<li>指针的指向不可以改，但指针指向的值可以改</li>
<li>const 后面紧跟的是常量，常量本身不可以改变，也就是不能指向其它变量</li>
</ul>
</li>
<li><p><code>const int* const p = &amp;a</code> 都不可以改</p>
</li>
</ul>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>就是给变量起别名</p>
<ul>
<li>引用必须要初始化<code>int &amp;b；</code> 这是错误的</li>
<li>引用一旦初始化后，就不可以更改了</li>
</ul>
<h3 id="引用做函数参数"><a href="#引用做函数参数" class="headerlink" title="引用做函数参数"></a>引用做函数参数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mySwap</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> temp = a;</span><br><span class="line">	a = b;</span><br><span class="line">	b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line">	<span class="built_in">mySwap</span>(a, b);</span><br><span class="line">	cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;b&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以简化指针修改实参</p>
<h3 id="引用做函数的返回值"><a href="#引用做函数的返回值" class="headerlink" title="引用做函数的返回值"></a>引用做函数的返回值</h3><ul>
<li>不要返回局部变量的引用</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>&amp; <span class="title">func1</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">10</span>; <span class="comment">// 局部变量存放在四区中的，栈区 </span></span><br><span class="line">	<span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span>&amp; ref = <span class="built_in">func1</span>();</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;ref = &quot;</span>&lt;&lt;ref&lt;&lt;endl; <span class="comment">// 第一次输出正确，因为编译器做了保留 </span></span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;ref = &quot;</span>&lt;&lt;ref&lt;&lt;endl; <span class="comment">// 第二次输出错误，因为a 的内存已经释放 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>函数的调用可以作为左值</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>&amp; <span class="title">func2</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">int</span> a = <span class="number">10</span>; <span class="comment">// 全局变量保存在全局区，最后程序结束之后由系统释放 </span></span><br><span class="line">	<span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span>&amp; ref = <span class="built_in">func2</span>();</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;ref = &quot;</span>&lt;&lt;ref&lt;&lt;endl; </span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;ref = &quot;</span>&lt;&lt;ref&lt;&lt;endl; </span><br><span class="line">	<span class="built_in">func2</span>() = <span class="number">20</span>; <span class="comment">// 如果函数的返回值是引用，这个函数可以成为左值</span></span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;ref = &quot;</span>&lt;&lt;ref&lt;&lt;endl; </span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;ref = &quot;</span>&lt;&lt;ref&lt;&lt;endl;  </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="引用的本质"><a href="#引用的本质" class="headerlink" title="引用的本质"></a>引用的本质</h3><p>本质：引用的本质在C++ 内部实现是一个指针常量（指针的指向不可以修改，但是指针指向的值可以修改）</p>
<h3 id="常量引用"><a href="#常量引用" class="headerlink" title="常量引用"></a>常量引用</h3><p>常量引用主要用来修饰形参，防止误操作</p>
<p><code>int&amp; ref = 10</code> 这是不合法的，因为引用必须引一块合法的内存空间</p>
<p><code>const int&amp; ref = 10</code> 这是合法的，这样编译器将代码修改成了：<code>int temp = 10; const int&amp; ref = temp</code></p>
<h2 id="四区"><a href="#四区" class="headerlink" title="四区"></a>四区</h2><ol>
<li>操作系统把物理硬盘代码load 到内存</li>
<li>操作系统把C/C++ 代码分成四个区</li>
<li>操作系统找到main 函数入口执行</li>
</ol>
<h3 id="代码区"><a href="#代码区" class="headerlink" title="代码区"></a>代码区</h3><p>存放CPU 执行的机器指令</p>
<p>通常代码区是可共享的，目的是对于频繁执行的程序，只需要在内存中有一份代码即可</p>
<p>通常代码区是只读的，原因是防止程序意外地修改了它的指令</p>
<p>总结：你写的所有代码都会放到代码区，特点是共享和只读</p>
<h3 id="全局区"><a href="#全局区" class="headerlink" title="全局区"></a>全局区</h3><p>全局区主要存放的数据有：全局变量、静态变量、常量</p>
<ul>
<li>data区<ul>
<li>主要存放已经初始化的全局变量、静态变量和常量</li>
</ul>
</li>
<li>bss区<ul>
<li>主要存放未初始化的全局变量、静态变量，这些未初始化的数据在程序执行前会自动被系统初始化为0或NULL</li>
</ul>
</li>
<li>常量区<ul>
<li>是全局区中划分的一个小区域，里面存放的是常量，如const修饰的全局变量，字符串常量等</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>; <span class="comment">// 全局变量  </span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> b = <span class="number">10</span>; <span class="comment">// 静态变量 </span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> c = <span class="number">10</span>; <span class="comment">// 全局常量 </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">int</span> d = <span class="number">10</span>; <span class="comment">// 静态局部变量 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>在程序运行后由产生了两个区域，栈区和堆区</p>
<h3 id="栈区"><a href="#栈区" class="headerlink" title="栈区"></a>栈区</h3><p>由编译器自动分配释放，存放函数的参数值、返回值、局部变量等。在程序运行过程中实时加载和释放，因此，局部变量的生存周期为申请到释放该段栈空间</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">10</span>; <span class="comment">// 局部变量 </span></span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">int</span> b = <span class="number">10</span>;  <span class="comment">// const修饰局部变量 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="堆区"><a href="#堆区" class="headerlink" title="堆区"></a>堆区</h3><p>堆是一个大容器，它的容量要远远大于栈</p>
<p>用于动态内存分配</p>
<p>堆在内存中位于BSS区和栈区之间</p>
<p>一般由程序员分配和释放，若程序员不释放，程序结束时由操作系统回收</p>
<p>malloc/new/free/delete</p>
<h3 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h3><p>全局区、代码区、堆区、栈区存储地址以此下降</p>
<p>堆和栈的生长方向：</p>
<ul>
<li><p>栈：从大地址到小地址</p>
</li>
<li><p>堆：从小地址到大地址</p>
</li>
</ul>
<h2 id="函数高级"><a href="#函数高级" class="headerlink" title="函数高级"></a>函数高级</h2><h3 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h3><p>声明和实现只能有一个有默认参数，以下代码无法通过编译</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a = <span class="number">10</span>, <span class="keyword">int</span> b = <span class="number">20</span>)</span></span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a = <span class="number">10</span>, <span class="keyword">int</span> b = <span class="number">20</span>)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="占位参数"><a href="#占位参数" class="headerlink" title="占位参数"></a>占位参数</h3><p>占位参数只有参数类型的声明，而没有参数名声明</p>
<p>一般情况下，在函数体内无法使用占位参数</p>
<p>但是如果你不传参的话还会报错</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	<span class="built_in">func</span>(<span class="number">20</span>, <span class="number">10</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还可以设置默认值<code>void func(int a, int = 10)</code></p>
<p>意义：为以后程序的扩展留下线索；兼容C语言程序中可能出现的不规范语法</p>
<p>在重载后置++运算符的时候需要给括号里传一个int占位参数</p>
<p><code>MyInteger&amp; operator++()</code>前置++</p>
<p><code>MyInteger&amp; operator++(int)</code>后置++，而且必须是int</p>
<h3 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h3><h4 id="引用作为重载的条件"><a href="#引用作为重载的条件" class="headerlink" title="引用作为重载的条件"></a>引用作为重载的条件</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> &amp;a)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;func(int&amp; a)&quot;</span>&lt;&lt;endl; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> &amp;a)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;func(const int &amp;a)&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">	<span class="built_in">func</span>(a); <span class="comment">// 会调第一个</span></span><br><span class="line">	<span class="built_in">func</span>(<span class="number">10</span>); <span class="comment">// 会调第二个 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>func(a); // 会调第一个<br>func(10); // 会调第二个</p>
<h4 id="函数重载碰到默认参数"><a href="#函数重载碰到默认参数" class="headerlink" title="函数重载碰到默认参数"></a>函数重载碰到默认参数</h4><p>当函数重载碰到默认参数时，可能会出现二义性</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b = <span class="number">10</span>)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;func(int a, int b = 10)&quot;</span>&lt;&lt;endl; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;func(int a)&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	<span class="built_in">func</span>(<span class="number">10</span>); <span class="comment">// 会报错 </span></span><br><span class="line">    <span class="built_in">func</span>(<span class="number">10</span>,<span class="number">20</span>); <span class="comment">// 不报错 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h2><p>C++ 面向对象的三大特征：封装、继承、多态</p>
<p>默认情况下C++编译器至少给一个类添加4个函数</p>
<ol>
<li>默认构造函数（无参，函数体为空）</li>
<li>默认析构函数（无参，函数体为空）</li>
<li>默认拷贝构造函数，对属性进行值拷贝</li>
<li>赋值运算符operator= 对属性进行值拷贝</li>
</ol>
<h3 id="struct和class的区别"><a href="#struct和class的区别" class="headerlink" title="struct和class的区别"></a>struct和class的区别</h3><p>在C++中struct和class唯一的区别就在于默认的访问权限不同</p>
<ul>
<li>struct默认权限为公共</li>
<li>class默认权限为私有</li>
</ul>
<h3 id="构造函数和析构函数"><a href="#构造函数和析构函数" class="headerlink" title="构造函数和析构函数"></a>构造函数和析构函数</h3><p>创建对象的时候，构造函数会自动调用，而且只调用一次</p>
<p>析构函数和类名相同，在名称前面加~</p>
<p>析构函数不可以有参数，不可以发生重载</p>
<p>对象在销毁前会自动调用析构函数，而且只会调用一次</p>
<p>这俩都需要写在public之下</p>
<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>注意：调用无参构造函数的时候不要加<code>()</code> 编译器会认为是函数的声明，而不会去调用无参构造函数</p>
<p><code>Person p1 = Person(10)</code> 其中，<code>Person（10）</code> 是一个匿名对象，当它出现在等号右边的时候，等号左边的就是它的名字</p>
<p>匿名对象有个特点：执行结束之后，系统会立即回收掉匿名对象</p>
<p>拷贝构造函数：<code>Person(const Person &amp;p)</code> 注意参数</p>
<p>注意：不要利用拷贝构造函数初始化匿名对象<code>Person（p）</code> 编译器会认为<code>Person（p） === Person p</code> 重定义。可以把它写在等号右边但是不要单独写它</p>
<p>隐式调用</p>
<ul>
<li><code>Person p = 10 === Person p = Person(10)</code></li>
<li><code>Person p = p1 === Person p = Person(p1)</code></li>
</ul>
<h4 id="调用拷贝构造函数的时机"><a href="#调用拷贝构造函数的时机" class="headerlink" title="调用拷贝构造函数的时机"></a>调用拷贝构造函数的时机</h4><ol>
<li>使用一个已创建完毕的对象来初始化一个新对象</li>
<li>值传递的方式给函数传参</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doWork</span><span class="params">(Person p)</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	Person p;</span><br><span class="line">	<span class="built_in">doWork</span>(p); <span class="comment">// 在这里传参的时候会调用拷贝构造函数 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>值方式返回局部对象，如果想返回它本身的话，用<code>Person&amp;</code> 做返回值类型</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Person <span class="title">doWork</span><span class="params">()</span></span>&#123;</span><br><span class="line">	Person p;</span><br><span class="line">	<span class="keyword">return</span> p; <span class="comment">// 返回的是拷贝后的 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="其它类对象作为本类的成员"><a href="#其它类对象作为本类的成员" class="headerlink" title="其它类对象作为本类的成员"></a>其它类对象作为本类的成员</h4><p>当其它类对象作为本类成员，构造函数的时候，先构造其它类的对象，再构造自身</p>
<p>析构相反</p>
<h3 id="静态成员"><a href="#静态成员" class="headerlink" title="静态成员"></a>静态成员</h3><p>静态成员变量</p>
<ol>
<li>所有对象都共享同一份数据</li>
<li>编译阶段就分配内存</li>
<li>类内声明，类外初始化操作</li>
<li>有访问权限，得给他弄成public下的</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span>	</span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">int</span> a; <span class="comment">// 类内声明 </span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> Person::a = <span class="number">100</span>; <span class="comment">// 类外初始化 </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	Person p;</span><br><span class="line">	cout&lt;&lt;p.a&lt;&lt;endl;</span><br><span class="line">	cout&lt;&lt;Person::a&lt;&lt;endl; <span class="comment">// 通过类名访问 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>静态成员函数</p>
<ol>
<li>所有对象共享同一个函数</li>
<li><strong>静态成员函数只能访问静态成员变量</strong>，因为如果可以访问的话，非静态成员变量是每个对象都有的，这个静态成员函数无法区分到底改变的是哪一个对象的成员变量</li>
<li>静态成员函数也有访问权限</li>
</ol>
<h3 id="成员变量和成员函数分开存储"><a href="#成员变量和成员函数分开存储" class="headerlink" title="成员变量和成员函数分开存储"></a>成员变量和成员函数分开存储</h3><p>空对象（类里什么都没有）占用内存空间：1</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span>	</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	Person p;</span><br><span class="line">    <span class="comment">// sizeof(p) = 1</span></span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;sizeof(p) = &quot;</span>&lt;&lt;<span class="built_in"><span class="keyword">sizeof</span></span>(p)&lt;&lt;endl; </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>C++编译器会给每个空对象也分配一个内存空间，为了区分空对象的位置，每个空对象也应该有一个独一无二的内存地址</p>
<ul>
<li><p>非静态成员变量，属于类对象上（如果上面类里加了一个<code>int a</code>之后<code>sizeof(p) = 4</code>）</p>
</li>
<li><p>静态成员变量，不属于类对象上</p>
</li>
<li><p>非静态成员函数，不属于类对象上</p>
</li>
<li><p>静态成员函数，不属于类对象上</p>
</li>
</ul>
<h3 id="常函数"><a href="#常函数" class="headerlink" title="常函数"></a>常函数</h3><p>常函数指的是在成员函数后面加一个const 关键字</p>
<p>常函数里不能改变成员变量</p>
<p>原因是：每个成员函数里都有一个this指针，它的本质是指针常量<code>Person* const this</code>指针常量是不可以修改的，在成员函数后加const 之后就相当于变成了<code>const Person* const this</code></p>
<p>但是如果在成员变量前面加上关键字mutable，就可以修改了</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">()</span> <span class="keyword">const</span></span>&#123;</span><br><span class="line">		<span class="comment">// 这里本质上是this-&gt;a = 10 </span></span><br><span class="line">		a = <span class="number">10</span>; <span class="comment">// 报错 </span></span><br><span class="line">		b = <span class="number">10</span>; <span class="comment">// 通过 </span></span><br><span class="line">	&#125;	</span><br><span class="line">	<span class="keyword">int</span> a;</span><br><span class="line">	<span class="keyword">mutable</span> <span class="keyword">int</span> b; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="常对象"><a href="#常对象" class="headerlink" title="常对象"></a>常对象</h3><p><code>const Person p</code>常对象也不能修改一般的成员变量，但是可以修改mutable修饰的</p>
<p>常对象只能调用常函数，因为普通成员函数可以修改成员变量，所以可能导致间接修改</p>
<h3 id="友元"><a href="#友元" class="headerlink" title="友元"></a>友元</h3><p>你让谁称为你的友元，它就可以访问你的私有属性，有以下三种情况</p>
<p>全局函数做友元</p>
<ul>
<li>把它声明在类里，用friend关键字，跟public同级但是有缩进</li>
</ul>
<p>友元类</p>
<ul>
<li>跟上面大同小异</li>
</ul>
<p>成员函数做友元</p>
<ul>
<li>大同小异，在函数前面加<code>类名::</code>表示是哪个类的</li>
</ul>
<h3 id="运算符重载"><a href="#运算符重载" class="headerlink" title="运算符重载"></a>运算符重载</h3><p>成员函数重载：<code>Person oprator+ (const Person&amp; p)</code>本质上是<code>p1.operator+(p2)</code> 但可以简化成<code>p1+p2 </code></p>
<p>全局函数重载：<code>Person operator+ (const Person&amp; p1, const Person&amp; p2)</code>本质上是<code>operator+(p1, p2)</code></p>
<p>注意：operator+ 就是默认的函数名，而且运算符重载也可以进行函数重载</p>
<p>对于内置的数据类型表达式是不能改变的，只能改变你自定义的数据类型</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Person</span>(<span class="keyword">int</span> a)&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;a = a;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">Person</span>()&#123;&#125;</span><br><span class="line"><span class="comment">//	Person operator+ (const Person&amp; p)&#123;</span></span><br><span class="line"><span class="comment">//		Person temp;</span></span><br><span class="line"><span class="comment">//		temp.a = this-&gt;a + p.a;</span></span><br><span class="line"><span class="comment">//		return temp;	</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	<span class="keyword">int</span> a;</span><br><span class="line">&#125;;</span><br><span class="line">Person <span class="keyword">operator</span>+ (<span class="keyword">const</span> Person&amp; p1, <span class="keyword">const</span> Person&amp; p2)&#123;</span><br><span class="line">	Person temp;</span><br><span class="line">	temp.a = p1.a + p2.a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	<span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">	<span class="function">Person <span class="title">p2</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line">	Person p3 = p1 + p2;</span><br><span class="line">	cout&lt;&lt;p3.a&lt;&lt;endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="左移运算符重载-lt-lt"><a href="#左移运算符重载-lt-lt" class="headerlink" title="左移运算符重载&lt;&lt;"></a>左移运算符重载&lt;&lt;</h4><p>一般不会利用成员函数重载&lt;&lt; 运算符，因为无法实现cout在左侧</p>
<p>强烈建议看b站黑马P122集：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1et411b73Z?p=122&spm_id_from=pageDriver&vd_source=3d7cc8d24fb2e44abb4e700a46b8b378">黑马程序员匠心之作|C++教程从0到1入门编程,学习编程不再难_哔哩哔哩_bilibili</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; cout, Person p)&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;a = &quot;</span>&lt;&lt;p.a;</span><br><span class="line">	<span class="keyword">return</span> cout;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="递增运算符重载"><a href="#递增运算符重载" class="headerlink" title="递增运算符重载++"></a>递增运算符重载++</h4><p>分为前置++和后置++</p>
<p>在实现方面前置++需要返回引用，而后置++需要返回本身，因为后置++是通过一个临时变量来记录它之前的状态，当执行完之后临时变量就会被回收，所以再返回引用的话算是非法操作</p>
<p>后置++与前置++采用函数重载方式区分，后置++需要在参数栏填占位参数int</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInt</span>&#123;</span></span><br><span class="line">	<span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; cout, MyInt myint);</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">MyInt</span>()&#123;</span><br><span class="line">		n = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	MyInt&amp; <span class="keyword">operator</span>++()&#123;</span><br><span class="line">		n++;</span><br><span class="line">		<span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	MyInt <span class="keyword">operator</span>++(<span class="keyword">int</span>)&#123;</span><br><span class="line">		MyInt temp = *<span class="keyword">this</span>;</span><br><span class="line">		n++;</span><br><span class="line">		<span class="keyword">return</span> temp;</span><br><span class="line">	&#125;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ostream&amp; <span class="keyword">operator</span>&lt;&lt;(ostream&amp; cout, MyInt myint)&#123;</span><br><span class="line">	cout&lt;&lt;myint.n;</span><br><span class="line">	<span class="keyword">return</span> cout;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="重载函数调用"><a href="#重载函数调用" class="headerlink" title="重载函数调用()"></a>重载函数调用()</h4><p>由于使用起来非常类似于函数调用，因此称为仿函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPrint</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(string str)</span></span>&#123;</span><br><span class="line">		cout&lt;&lt;str&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	MyPrint myprint;</span><br><span class="line">	<span class="built_in">myprint</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p><img src="https://picgo-1312301849.cos.ap-nanjing.myqcloud.com/img/202207211557406.png"></p>
<p>继承中，先调用父类构造函数，再调用子类构造函数，析构顺序相反</p>
<p>父类中private 属性也被继承但是编译器给做了隐藏，所以访问不到</p>
<p>如果子类中出现父类同名的成员函数，子类的同名成员函数会隐藏掉父类所有的同名成员函数（包括重载的所有版本），想访问，加作用域<code>s.Base::func()</code></p>
<h3 id="虚继承"><a href="#虚继承" class="headerlink" title="虚继承"></a>虚继承</h3><p>虚继承是为了解决菱形继承问题的</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sheep</span> :</span> <span class="keyword">public</span> Animal&#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tuo</span> :</span> <span class="keyword">public</span> Animal&#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YangTuo</span> :</span> <span class="keyword">public</span> Sheep, <span class="keyword">public</span> Tuo&#123;&#125;;</span><br></pre></td></tr></table></figure>

<p>上面例子中，羊类和驼类都继承了动物类，羊驼继承了羊类和驼类，动物类有一个年龄成员，所以在羊驼类中有两个年龄，一个是从羊类继承下来的，另一个是从驼类。产生了二义性并且导致资源浪费</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sheep</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Animal&#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Tuo</span> :</span> <span class="keyword">virtual</span> <span class="keyword">public</span> Animal&#123;&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YangTuo</span> :</span> <span class="keyword">public</span> Sheep, <span class="keyword">public</span> Tuo&#123;&#125;;</span><br></pre></td></tr></table></figure>

<p>可以用虚继承，这样Animal类就成为了虚基类，YangTuo类中也只有一份age属性，Sheep类和Tuo类里都是继承的指针，指向真正的数据，也就是YangTuo类的</p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>多态分为两种：静态多态和动态多态</p>
<ul>
<li>静态多态：函数重载、运算符重载</li>
<li>动态多态：派生类和虚函数实现运行时多态</li>
</ul>
<p>区别：</p>
<ul>
<li>静态多态的函数地址早绑定——编译阶段确定函数地址</li>
<li>动态多态的函数地址晚绑定——运行阶段确定函数地址</li>
</ul>
<p>动态多态满足条件：</p>
<ul>
<li>有继承关系</li>
<li>子类重写父类中虚函数</li>
</ul>
<p>原理有个虚函数指针和虚函数表：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1et411b73Z?p=136&vd_source=3d7cc8d24fb2e44abb4e700a46b8b378">黑马程序员匠心之作|C++教程从0到1入门编程,学习编程不再难_哔哩哔哩_bilibili</a></p>
<h3 id="纯虚函数和抽象类"><a href="#纯虚函数和抽象类" class="headerlink" title="纯虚函数和抽象类"></a>纯虚函数和抽象类</h3><p>只要有一个纯虚函数，这个类就成为抽象类</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span>&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">func</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>抽象类特点</p>
<ol>
<li>无法实例化对象</li>
<li>抽象类的子类，必须要重写父类中的纯虚函数，否则也属于抽象类</li>
</ol>
<h3 id="虚析构和纯虚析构"><a href="#虚析构和纯虚析构" class="headerlink" title="虚析构和纯虚析构"></a>虚析构和纯虚析构</h3><p>父类指针在析构的时候，不会调用子类的析构函数，导致子类中如果有堆区属性，出现内存泄漏</p>
<p>利用虚析构可以解决，父类指针释放子类对象时不干净的问题</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Animal</span>()&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;Animal构造函数&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line"><span class="comment">//	virtual ~Animal()&#123;</span></span><br><span class="line"><span class="comment">//		cout&lt;&lt;&quot;Animal析构函数&quot;&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	<span class="keyword">virtual</span> ~<span class="built_in">Animal</span>() = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line">Animal::~<span class="built_in">Animal</span>()&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;Animal析构函数&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> :</span> <span class="keyword">public</span> Animal&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">Cat</span>(string name)&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;Cat构造函数&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">this</span>-&gt;name = <span class="keyword">new</span> <span class="built_in">string</span>(name);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">speak</span><span class="params">()</span></span>&#123;</span><br><span class="line">		cout&lt;&lt;*name&lt;&lt;<span class="string">&quot; is speaking&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	~<span class="built_in">Cat</span>()&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;Cat析构函数&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">if</span>(name != <span class="literal">NULL</span>)&#123;</span><br><span class="line">			<span class="keyword">delete</span> name;</span><br><span class="line">			name = <span class="literal">NULL</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	string* name;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;  </span><br><span class="line">	Animal* cat = <span class="keyword">new</span> <span class="built_in">Cat</span>(<span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">	cat-&gt;<span class="built_in">speak</span>();</span><br><span class="line">	<span class="keyword">delete</span> cat;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>纯虚析构也需要实现，在类外</p>
<p>总结：</p>
<ol>
<li>虚析构或纯虚析构就是用来解决通过父类指针释放子类对象</li>
<li>如果子类没有堆区数据，可以不屑虚析构或纯虚析构</li>
<li>拥有纯虚析构的类也属于抽象类</li>
</ol>
<h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><h3 id="函数模板"><a href="#函数模板" class="headerlink" title="函数模板"></a>函数模板</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">函数声明或定义</span><br></pre></td></tr></table></figure>

<p>typename可以用class代替</p>
<p>使用函数模板的时候有两种方式：自动类型推导、显示指定类型</p>
<p><code>swap(a, b); swap&lt;int&gt;(a, b)</code></p>
<h3 id="普通函数和函数模板区别"><a href="#普通函数和函数模板区别" class="headerlink" title="普通函数和函数模板区别"></a>普通函数和函数模板区别</h3><ol>
<li>普通函数调用可以发生隐式类型转换</li>
<li>函数模板 用自动类型推导 不可以发生隐式类型转换</li>
<li>函数模板 用显示指定类型 可以发生隐式类型转换</li>
</ol>
<p>隐式类型转换就是比如把char转换成int</p>
<h3 id="普通函数和函数模板的调用规则"><a href="#普通函数和函数模板的调用规则" class="headerlink" title="普通函数和函数模板的调用规则"></a>普通函数和函数模板的调用规则</h3><ol>
<li>如果函数模板和普通函数都可以实现，优先调用普通函数</li>
<li>可以通过空模板参数列表来强制调用函数模板<code>func&lt;&gt;(a, b)</code></li>
<li>函数模板也可以发生重载</li>
<li>如果函数模板可以产生更好的匹配，优先调用函数模板</li>
</ol>
<h3 id="类模板"><a href="#类模板" class="headerlink" title="类模板"></a>类模板</h3><p>类模板与函数模板的区别</p>
<ol>
<li>类模板没有自动类型推导</li>
<li>类模板在模板参数列表中可以有默认参数<code>template&lt;class NameType, class AgeType = int&gt;</code></li>
</ol>
<p>类模板中成员函数的创建时机</p>
<ol>
<li>普通类中的成员函数一开始就可以创建</li>
<li>类模板中的成员函数在调用时才创建</li>
</ol>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p><code>append(const string&amp; s, int pos, int n)</code>s中pos位置开始的n个字符</p>
<p><code>s.replace(1, 3, &quot;1111&quot;)</code> 1号位置开始3个字符替换成1111</p>
<p><code>s.compare(str)==0</code> 看是否相等</p>
<p><code>s.erase(1, 3)</code>在1的位置删3个</p>
<p><code>s.substr(1, 3)</code>从1的位置开始截3个</p>
<h2 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h2><p>无法解析的外部命令，是在链接的阶段出现问题</p>
<h3 id="常用算法"><a href="#常用算法" class="headerlink" title="常用算法"></a>常用算法</h3><h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><p>查找指定元素，找到返回指定元素的迭代器，找不到返回结束迭代器end()</p>
<p><code>find(v.begin(), v.end(), 3)</code></p>
<h4 id="binary-search"><a href="#binary-search" class="headerlink" title="binary_search"></a>binary_search</h4><p>查找指定元素是否存在，返回bool，必须是有序的</p>
<p><code>binary_search(v.begin(), v.end(), 3)</code></p>
<h4 id="count"><a href="#count" class="headerlink" title="count"></a>count</h4><p>统计元素个数，跟前面一样</p>
<h4 id="random-shuffle"><a href="#random-shuffle" class="headerlink" title="random_shuffle"></a>random_shuffle</h4><p>洗牌，就需要传入其实和结束迭代器</p>
<h4 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h4><p>两个容器元素合并，并存储到另一个容器中</p>
<p>注意两个容器必须是有序的，合并之后也是有序的</p>
<p><code>merge(v1.begin(), v1.end(), v2.begin(), v2.end(), target.begin())</code></p>
<p>需要用resize给目标容器分配内存</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://1614196964.github.io/2022/06/15/%E8%AF%BE%E8%AE%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/1614196964.github.io/images/avatar.gif">
      <meta itemprop="name" content="苏小栋">
      <meta itemprop="description" content="敬平静，以及那些破坏平静的人">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaLaLand">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1614196964.github.io/2022/06/15/%E8%AF%BE%E8%AE%BE/" class="post-title-link" itemprop="url">SpringBoot中MyBatis，MyBatisPlus操作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-06-15 15:46:06 / 修改时间：17:17:32" itemprop="dateCreated datePublished" datetime="2022-06-15T15:46:06+08:00">2022-06-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="springboot-整合mybatis"><a href="#springboot-整合mybatis" class="headerlink" title="springboot 整合mybatis"></a>springboot 整合mybatis</h2><ol>
<li>导入对应的starter</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.29<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>连接数据库，首先把配置文件改成yml 后缀application.yml，注意这里配置url 的时候可能需要配置时区，然后3306/ 后面是数据库的名字</li>
</ol>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/demo?useSSL=false&amp;serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf8</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>创建一个实体类，在com.example 下面创建一个包，老师叫pojo 黑马叫domain，这里注意你数据字段，必须跟数据库的属性名字一毛一样，IDEA连接数据库好像能直接生成？没试过。 注意：我这里没有写Setter 和Getter 方法，但是我写了一个@Data 注解，这个注解就把那些个方法全包括了，但是需要导入lombok 坐标</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>创建数据库操作接口，在example 下创建一个Mapper 包，黑马叫Dao 包，然后写一个接口，进行数据库操作。注意这里的@mapper 是为了让SpringBoot 扫描到。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getAll</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>在resources 目录下创建一个目录，目录下创建一个xml 文件，这里我创建的mybatis 目录下一个mapper.xml 文件，写了一个查询全部的语句。最后需要在application.yml 中配置一个包扫描路径。其中namespace 是操作数据库接口的全限定类名；id 就是方法名字，需要统一；resultType 是返回结果类型的全限定类名</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.Dao.UserDao&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.domain.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mybatis/*.xml</span></span><br></pre></td></tr></table></figure>



<p>单表查询，使用MybatisPlus，多表查询，使用Mybatis</p>
<h2 id="MyBatisPlus-单表查询"><a href="#MyBatisPlus-单表查询" class="headerlink" title="MyBatisPlus 单表查询"></a>MyBatisPlus 单表查询</h2><ol>
<li>首先导入MyBatisPlus（简称MP） 的坐标。注意：在导入MP 整合boot 坐标之后，就不要再导入MyBatis 的坐标了，会报错</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>配置数据库，写UserDao 接口，写User 实体类</p>
</li>
<li><p>UserDao 需要继承<code>BaseMapper&lt;User&gt;</code> 其中这个泛型是那个实体类</p>
</li>
<li><p>在测试类中，注入一个UserDao 的对象，就可以调用方法进行CRUD 了</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testUpdate</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setId(<span class="number">2</span>);</span><br><span class="line">    user.setName(<span class="string">&quot;sudaqiang&quot;</span>);</span><br><span class="line">    userDao.updateById(user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">testInsert</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setId(<span class="number">4</span>);</span><br><span class="line">    user.setAge(<span class="number">12</span>);</span><br><span class="line">    user.setName(<span class="string">&quot;minisudong&quot;</span>);</span><br><span class="line">    user.setEmail(<span class="string">&quot;misiduong.@qq.com&quot;</span>);</span><br><span class="line">    userDao.insert(user);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    List&lt;User&gt; users = userDao.selectList(<span class="keyword">null</span>);</span><br><span class="line">    System.out.println(users);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="精简输出信息"><a href="#精简输出信息" class="headerlink" title="精简输出信息"></a>精简输出信息</h2><ol>
<li>首先在application.yml 中配置，这分别关闭springboot 和mybatis-plus 的logo</li>
</ol>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">main:</span></span><br><span class="line">      <span class="attr">banner-mode:</span> <span class="string">off</span></span><br><span class="line">      </span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">banner:</span> <span class="string">off</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在resources 目录下创建logback.xml 文件</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://1614196964.github.io/2022/05/13/Spring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/1614196964.github.io/images/avatar.gif">
      <meta itemprop="name" content="苏小栋">
      <meta itemprop="description" content="敬平静，以及那些破坏平静的人">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaLaLand">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1614196964.github.io/2022/05/13/Spring/" class="post-title-link" itemprop="url">Spring</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-13 19:38:58" itemprop="dateCreated datePublished" datetime="2022-05-13T19:38:58+08:00">2022-05-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-06-15 17:33:21" itemprop="dateModified" datetime="2022-06-15T17:33:21+08:00">2022-06-15</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-核心概念"><a href="#1-核心概念" class="headerlink" title="1 核心概念"></a>1 核心概念</h1><h2 id="1-1-IoC-Inversion-of-Control-控制反转"><a href="#1-1-IoC-Inversion-of-Control-控制反转" class="headerlink" title="1.1 IoC(Inversion of Control) 控制反转"></a>1.1 IoC(Inversion of Control) 控制反转</h2><p>假设一开始数据层实现了一个接口，你在业务层使用new 方法调出来使用，过两天换了数据层换了实现，你必须要把new BookDaoImpl 改为 new BookDaoImp2 这势必要重新编译和重新测试。究其原因，程序耦合度高</p>
<p><img src="https://picgo-1312301849.cos.ap-nanjing.myqcloud.com/img/202206041554504.png"></p>
<p>解决方法：使用对象时，在程序中不要主动使用new 产生对象，转化为由<strong>外部</strong>提供对象</p>
<p>对象的控制权由程序转移到外部，这种思想称为控制反转</p>
<ul>
<li>Spring 技术对IoC 思想进行了实现，提供了一个容器，称为IoC容器，用来充当IoC思想中的“<strong>外部</strong>”</li>
<li>IoC容器负责对象的创建、初始化等一系列工作，被创建或管理的对象在IoC容器中统称为<strong>Bean</strong></li>
</ul>
<h2 id="1-2-DI-Dependency-Injection-依赖注入"><a href="#1-2-DI-Dependency-Injection-依赖注入" class="headerlink" title="1.2 DI(Dependency Injection) 依赖注入"></a>1.2 DI(Dependency Injection) 依赖注入</h2><p>在容器中建立bean 与 bean之间的依赖关系整个过程，称为依赖注入</p>
<p>如上图，Service依赖Dao 对象运行，</p>
<p><img src="https://picgo-1312301849.cos.ap-nanjing.myqcloud.com/img/202206031656012.png" alt="image-20220603165628865"></p>
<h2 id="1-3-目标"><a href="#1-3-目标" class="headerlink" title="1.3 目标"></a>1.3 目标</h2><p>充分解耦</p>
<ul>
<li>使用IoC容器管理bean</li>
<li>在IoC容器内将有依赖关系的bean进行关系绑定</li>
</ul>
<h2 id="1-4-IoC入门案例"><a href="#1-4-IoC入门案例" class="headerlink" title="1.4 IoC入门案例"></a>1.4 IoC入门案例</h2><ol>
<li>管理什么？（Service 和Dao）</li>
<li>如何将被管理的对象告知IoC容器？（配置）</li>
<li>将被管理的对象交给IoC容器，如何获取到IoC容器？（接口）</li>
<li>IoC容器得到后，如何从容器中获取bean？（接口方法）</li>
</ol>
<h3 id="1-4-1-前提准备"><a href="#1-4-1-前提准备" class="headerlink" title="1.4.1 前提准备"></a>1.4.1 前提准备</h3><p>Demo 目录</p>
<p><img src="https://picgo-1312301849.cos.ap-nanjing.myqcloud.com/img/202206041931833.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BookDaoImpl</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title">BookDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao saving ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// BookServiceImpl</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao = <span class="keyword">new</span> BookDaoImpl();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book service saving...&quot;</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// App</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BookService bookService = <span class="keyword">new</span> BookServiceImpl();</span><br><span class="line">        bookService.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-2-步骤"><a href="#1-4-2-步骤" class="headerlink" title="1.4.2 步骤"></a>1.4.2 步骤</h3><ol>
<li>首先创建一个maven项目，导入spring的坐标</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>在resources目录下创建一个xml文件，名字是applicationContext.xml，在里面配置bean</p>
<ol>
<li><p>id 属性表示bean的名字</p>
</li>
<li><p>class 属性表示bean定义类型，注意要配到类，不要配到接口</p>
</li>
</ol>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.service.impl.BookServiceImpl&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>初始化容器，去容器中拿这个bean</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 获取IoC 容器</span></span><br><span class="line">    ApplicationContext ctx = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">    <span class="comment">// 获取bean</span></span><br><span class="line">    BookService bookService = (BookService) ctx.getBean(<span class="string">&quot;bookService&quot;</span>);</span><br><span class="line">    bookService.save();</span><br></pre></td></tr></table></figure>

<h2 id="1-5-DI入门案例"><a href="#1-5-DI入门案例" class="headerlink" title="1.5 DI入门案例"></a>1.5 DI入门案例</h2><ol>
<li>基于IoC管理bean</li>
<li>Service 中使用new 形式创建的Dao 对象是否保留？（否）</li>
<li>Service 中需要的Dao 对象如何进入到Service 中？（提供方法）</li>
<li>Service 与Dao 间关系如何描述？（配置）</li>
</ol>
<h3 id="1-5-1-步骤"><a href="#1-5-1-步骤" class="headerlink" title="1.5.1 步骤"></a>1.5.1 步骤</h3><ol>
<li>首先要把BookServiceImpl 中的new BookDao() 删掉，但是要添加一个set 方法</li>
<li>在applicationContext.xml 中配置这俩的依赖关系，具体如下<ol>
<li>property 的name属性是具体要配置哪一个属性</li>
<li>ref 属性表示参照哪一个bean，是bean 的id</li>
</ol>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.service.impl.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookDao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="2-bean"><a href="#2-bean" class="headerlink" title="2 bean"></a>2 bean</h1><h2 id="2-1-bean-基础配置"><a href="#2-1-bean-基础配置" class="headerlink" title="2.1 bean 基础配置"></a>2.1 bean 基础配置</h2><h3 id="2-1-1-给bean-改别名"><a href="#2-1-1-给bean-改别名" class="headerlink" title="2.1.1 给bean 改别名"></a>2.1.1 给bean 改别名</h3><p>name 属性可以给bean 指定别名，空格分隔，逗号分隔，空格分隔都行，以下为bookService 提供了service 和 service2 两个别名</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">name</span>=<span class="string">&quot;service, service2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.service.impl.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookDao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-1-2-bean-作用范围"><a href="#2-1-2-bean-作用范围" class="headerlink" title="2.1.2 bean 作用范围"></a>2.1.2 bean 作用范围</h3><p>定义bean 的作用范围，可选范围如下</p>
<ul>
<li>singleton：单例（默认），就是重复获取同一个bean 他们是同一个对象</li>
<li>prototype：非单例</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.dao.impl.BookDaoImpl&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>为什么bean 默认为单例呢？</p>
<ul>
<li>适合交给容器管理的bean<ul>
<li>表现层对象</li>
<li>业务层对象</li>
<li>数据层对象</li>
<li>工具对象</li>
</ul>
</li>
<li>不适合交给容器管理的bean<ul>
<li>封装实体的域对象</li>
</ul>
</li>
</ul>
<h2 id="2-2-bean-实例化"><a href="#2-2-bean-实例化" class="headerlink" title="2.2 bean 实例化"></a>2.2 bean 实例化</h2><h3 id="2-2-1-使用构造函数"><a href="#2-2-1-使用构造函数" class="headerlink" title="2.2.1 使用构造函数"></a>2.2.1 使用构造函数</h3><p>bean 本质上就是对象，创建bean 使用构造方法完成，使用的是无参的构造方法</p>
<p>如果无参构造方法不存在，将抛出BeanCreationException</p>
<h3 id="2-2-2-使用静态工厂"><a href="#2-2-2-使用静态工厂" class="headerlink" title="2.2.2 使用静态工厂"></a>2.2.2 使用静态工厂</h3><p>了解即可</p>
<h3 id="2-2-3-实例工厂"><a href="#2-2-3-实例工厂" class="headerlink" title="2.2.3 实例工厂"></a>2.2.3 实例工厂</h3><p>了解即可</p>
<h2 id="2-3-bean-生命周期控制"><a href="#2-3-bean-生命周期控制" class="headerlink" title="2.3 bean 生命周期控制"></a>2.3 bean 生命周期控制</h2><p>生命周期：从创建到消亡的完整过程</p>
<p>bean 生命周期：bean 从创建到销毁的整体过程</p>
<p>bean 生命周期控制：在bean 创建后到销毁前做的一些事情</p>
<h3 id="2-3-1-提供生命周期控制方法"><a href="#2-3-1-提供生命周期控制方法" class="headerlink" title="2.3.1 提供生命周期控制方法"></a>2.3.1 提供生命周期控制方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title">BookDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao saving ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book init...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book destroy...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-2-用配置的形式控制"><a href="#2-3-2-用配置的形式控制" class="headerlink" title="2.3.2 用配置的形式控制"></a>2.3.2 用配置的形式控制</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.dao.impl.BookDaoImpl&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;init&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;destroy&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-3-用接口的方法控制"><a href="#2-3-3-用接口的方法控制" class="headerlink" title="2.3.3 用接口的方法控制"></a>2.3.3 用接口的方法控制</h3><p>了解</p>
<h3 id="2-3-4-bean-生命周期"><a href="#2-3-4-bean-生命周期" class="headerlink" title="2.3.4 bean 生命周期"></a>2.3.4 bean 生命周期</h3><ul>
<li>初始化容器<ol>
<li>创建对象（内存分配）相当于new</li>
<li>执行构造方法</li>
<li>执行属性注入（set 操作）</li>
<li>执行bean 初始化方法（init-methon）</li>
</ol>
</li>
<li>使用bean<ol>
<li>执行业务操作</li>
</ol>
</li>
<li>关闭 / 销毁容器<ol>
<li>执行bean 销毁方法（destroy-method）</li>
</ol>
</li>
</ul>
<h3 id="2-3-5-bean-销毁时机"><a href="#2-3-5-bean-销毁时机" class="headerlink" title="2.3.5 bean 销毁时机"></a>2.3.5 bean 销毁时机</h3><ul>
<li>容器关闭前触发bean 的销毁</li>
<li>关闭容器方式<ul>
<li>手工关闭容器：ConfigurableApplicationContext 接口close() 操作</li>
<li>注册关闭钩子，在虚拟机退出前关闭容器：ConfigurableApplicationContext 接口registerShutdownHook() 操作</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 获取IoC 容器</span></span><br><span class="line">    ClassPathXmlApplicationContext ctx = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">    <span class="comment">//        ctx.registerShutdownHook();</span></span><br><span class="line">    <span class="comment">// 获取bean</span></span><br><span class="line">    BookService bookService = (BookService) ctx.getBean(<span class="string">&quot;service&quot;</span>);</span><br><span class="line">    bookService.save();</span><br><span class="line">    ctx.close();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="3-依赖注入"><a href="#3-依赖注入" class="headerlink" title="3 依赖注入"></a>3 依赖注入</h1><ul>
<li>思考：向一个类中传递数据的方法有几种？<ul>
<li>普通方法（set）</li>
<li>构造方法</li>
</ul>
</li>
<li>思考：依赖注入描述了在容器中建立bean 与bean 之间依赖关系的过程，如果bean 运行需要的是数字或字符串呢<ul>
<li>引用类型</li>
<li>简单类型（基本数据类型与String）</li>
</ul>
</li>
<li>依赖输入方式<ul>
<li>setter 注入<ul>
<li>简单类型</li>
<li>引用类型</li>
</ul>
</li>
<li>构造器注入<ul>
<li>简单类型</li>
<li>引用类型</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-1-setter-注入"><a href="#3-1-setter-注入" class="headerlink" title="3.1 setter 注入"></a>3.1 setter 注入</h2><h3 id="3-1-1-setter-注入——引用类型"><a href="#3-1-1-setter-注入——引用类型" class="headerlink" title="3.1.1 setter 注入——引用类型"></a>3.1.1 setter 注入——引用类型</h3><ol>
<li>在bean 中定义引用类型属性并提供可访问的set 方法</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBookDao</span><span class="params">(BookDao bookDao)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bookDao = bookDao;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>配置中使用property 标签ref 属性注入引用类型对象</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.dao.impl.BookDaoImpl&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;init&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;destroy&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.service.impl.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookDao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-1-2-setter-注入——简单类型"><a href="#3-1-2-setter-注入——简单类型" class="headerlink" title="3.1.2 setter 注入——简单类型"></a>3.1.2 setter 注入——简单类型</h3><ol>
<li>在bean 中定义引用类型属性并提供可访问的set 方法</li>
<li>配置中使用property 标签value 属性注入简单类型数据</li>
</ol>
<h2 id="3-2-构造器注入"><a href="#3-2-构造器注入" class="headerlink" title="3.2 构造器注入"></a>3.2 构造器注入</h2><p>其实跟上面的差不多只是set 方法换成构造方法，配置中的标签换成constructor-arg</p>
<h2 id="3-3-依赖注入自动装配"><a href="#3-3-依赖注入自动装配" class="headerlink" title="3.3 依赖注入自动装配"></a>3.3 依赖注入自动装配</h2><p>IoC 容器根据bean 所依赖的资源在容器中自动查找并注入到bean 中的过程称为自动装配</p>
<h3 id="3-3-1-按类型匹配"><a href="#3-3-1-按类型匹配" class="headerlink" title="3.3.1 按类型匹配"></a>3.3.1 按类型匹配</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.service.impl.BookServiceImpl&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-2-按名称匹配"><a href="#3-3-2-按名称匹配" class="headerlink" title="3.3.2 按名称匹配"></a>3.3.2 按名称匹配</h3><p>改成<code>autowire=&quot;byName&quot;</code> 就行</p>
<p>但是注意按名称指的是set方法后面的字母，首字母小写之后跟bean 的id 一样，这才能匹配</p>
<h3 id="3-3-3-依赖自动装配的特征"><a href="#3-3-3-依赖自动装配的特征" class="headerlink" title="3.3.3 依赖自动装配的特征"></a>3.3.3 依赖自动装配的特征</h3><ul>
<li>自动装配用于引用类型依赖注入，不能对简单类型进行操作</li>
<li>使用按类型装配时（byType）必须保障容器中相同类型的bean 唯一，推荐使用</li>
<li>使用按名称装配时（byName）必须保障容器中具有指定名称的bena，因变量名与配置耦合，不推荐使用</li>
<li>自动装配优先级低于setter 注入与构造器注入，同时出现时自动装配失效</li>
</ul>
<h2 id="3-4-集合注入"><a href="#3-4-集合注入" class="headerlink" title="3.4 集合注入"></a>3.4 集合注入</h2><p>学一个格式</p>
<h1 id="4-加载properties-文件"><a href="#4-加载properties-文件" class="headerlink" title="4 加载properties 文件"></a>4 加载properties 文件</h1><ol>
<li>开启context 命名空间</li>
</ol>
<p><img src="https://picgo-1312301849.cos.ap-nanjing.myqcloud.com/img/202206042143797.png"></p>
<ol start="2">
<li>使用context 命名空间，加载指定properties 文件</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;context:property-placeholder location=<span class="string">&quot;jdbc.properties&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>使用 <code>$&#123;&#125;</code> 读取加载的属性值</li>
</ol>
<p>但是有时候会与系统变量冲突，这时候需要一个<code>system-properties-mode=NEVER</code> </p>
<p>但是最规范的写法是这样的，这样是加载本项目中的配置文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:*.properties&quot;</span> <span class="attr">system-properties-mode</span>=<span class="string">&quot;NEVER&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>location=&quot;classpath*:*.properties&quot;</code> 这样是可以加载jar 包里的</p>
<h1 id="5-核心容器总结"><a href="#5-核心容器总结" class="headerlink" title="5 核心容器总结"></a>5 核心容器总结</h1><h2 id="5-1-容器相关"><a href="#5-1-容器相关" class="headerlink" title="5.1 容器相关"></a>5.1 容器相关</h2><ul>
<li>BeanFactory 是IoC容器的顶层接口，初始化BeanFactory 对象时，加载bean 延迟加载</li>
<li>ApplicationContext 接口是Spring 容器的核心接口，初始化时bean 立即加载</li>
<li>ApplicationContext 接口提供基础的bean 操作相关方法，通过其它接口扩展其功能</li>
</ul>
<h2 id="5-2-bean-相关"><a href="#5-2-bean-相关" class="headerlink" title="5.2 bean 相关"></a>5.2 bean 相关</h2><p><img src="https://picgo-1312301849.cos.ap-nanjing.myqcloud.com/img/202206042224960.png"></p>
<h2 id="5-3-依赖注入相关"><a href="#5-3-依赖注入相关" class="headerlink" title="5.3 依赖注入相关"></a>5.3 依赖注入相关</h2><p><img src="https://picgo-1312301849.cos.ap-nanjing.myqcloud.com/img/202206042226001.png"></p>
<hr>
<h1 id="1-注解开发"><a href="#1-注解开发" class="headerlink" title="1 注解开发"></a>1 注解开发</h1><h2 id="1-1-注解开发定义bean"><a href="#1-1-注解开发定义bean" class="headerlink" title="1.1 注解开发定义bean"></a>1.1 注解开发定义bean</h2><p>使用<code>@Component</code> 定义bean，可以指定名字也可以不指定</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(&quot;bookDao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title">BookDao</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title">BookService</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>核心配置文件中通过组件扫描加载bean</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.example&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>如果没有名字的bean 可以用类加载bean</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BookService bean = cxt.getBean(BookService.class);</span><br></pre></td></tr></table></figure>



<p>Spring 提供<code>@Component</code> 注解的三个衍生注解</p>
<ul>
<li><code>@Controller</code> ：用于表现层bean 定义</li>
<li><code>@Service</code> ：业务层</li>
<li><code>@Repository</code> ：数据层</li>
</ul>
<h2 id="1-2-纯注解开发"><a href="#1-2-纯注解开发" class="headerlink" title="1.2 纯注解开发"></a>1.2 纯注解开发</h2><p>使用Java 类代替Spring 核心配置文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Componentscan(&quot;com.example&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>@Configuration</code> 注解用于设定当前类为配置类</li>
<li><code>@ComponentScan</code> 注解用于谁当扫描路径，此注解只能添加一次，多个数据用数组格式</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Componentscan(&#123;&quot;com.example.dao&quot;, &quot;com.example.service&quot;&#125;)</span></span><br></pre></td></tr></table></figure>



<p>读取Spring 核心配置文件初始化容器对象切换为读取Java 配置类初始化容器对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载配置文件初始化容器</span></span><br><span class="line">ApplicationContext cxt = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line"><span class="comment">// 加载配置类初始化容器</span></span><br><span class="line">ApplicationContext cxt = <span class="keyword">new</span> AnnotationConfigApplicationContext(SpringConfig.class);</span><br></pre></td></tr></table></figure>

<h2 id="1-3-依赖注入"><a href="#1-3-依赖注入" class="headerlink" title="1.3 依赖注入"></a>1.3 依赖注入</h2><p>1.3.1 使用<code>@Autowired</code> 注解开启自动装配模式（按类型）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    public void setBookDao(BookDao bookDao) &#123;</span></span><br><span class="line"><span class="comment">//        this.bookDao = bookDao;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book service saving...&quot;</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>注意：自动装配基于反射设计创建对象并暴力反射对应属性为私有属性初始化数据，因此无需提供setter 方法</li>
<li>注意：自动装配建议使用无参构造方法创建对象（默认），如果不提供对应构造方法，请提供唯一的构造方法</li>
</ul>
<p>1.3.2 使用<code>@Qualifier</code> 注解可以指定名称装配bean </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title">BookService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;bookDao&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>注意：<code>@Qualifier</code> 注解无法单独使用，必须配合<code>@Autowired</code> 注解使用</li>
</ul>
<p>1.3.3 使用<code>@value</code> 实现简单类型注入</p>
<p>1.3.4 使用<code>@PropertySource</code> 注解加载<code>properties</code> 文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Component(&quot;com.example&quot;)</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>注意：路径仅支持单一文件配置，多文件请用数组格式配置，不允许使用通配符*</li>
</ul>
<p>加载之后就可以使用<code>$&#123;&#125;</code> 给简单类型进行注入</p>
<h2 id="1-4-第三方bean-管理"><a href="#1-4-第三方bean-管理" class="headerlink" title="1.4 第三方bean 管理"></a>1.4 第三方bean 管理</h2><p>使用<code>@Bean</code> 配置第三方bean</p>
<ul>
<li>使用独立的配置类管理第三方bean</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">dataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DruidDataSource ds = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">        ds.setDriverClassName( <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span> );</span><br><span class="line">        ds.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring_db&quot;</span>);</span><br><span class="line">        ds.setUsername( <span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword( <span class="string">&quot;root&quot;</span> );</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>将独立的配置类导入核心配置</p>
<ul>
<li>使用<code>@Import</code> 注解手动加入配置类到核心配置，此注解只能添加一次，多个数据用数组格式</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Import(JdbcConfig.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后可以用类型加载bean</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ApplicationContext cxt = <span class="keyword">new</span> AnnotationConfigApplicationContext(SpringConfig.class);</span><br><span class="line">    DataSource bean = cxt.getBean(DataSource.class);</span><br><span class="line">    System.out.println(bean);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="1-5-第三方bean-依赖注入"><a href="#1-5-第三方bean-依赖注入" class="headerlink" title="1.5 第三方bean 依赖注入"></a>1.5 第三方bean 依赖注入</h2><h3 id="1-5-1-简单类型依赖注入"><a href="#1-5-1-简单类型依赖注入" class="headerlink" title="1.5.1 简单类型依赖注入"></a>1.5.1 简单类型依赖注入</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;com.mysql.jdbc.Driver&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;jdbc :mysql:/ / localhost: 3306/spring_db&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;root&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value(&quot;root&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> DataSource <span class="title">dataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">        DruidDataSource ds = <span class="keyword">new</span> DruidDataSource();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-5-2-引用类型依赖注入"><a href="#1-5-2-引用类型依赖注入" class="headerlink" title="1.5.2 引用类型依赖注入"></a>1.5.2 引用类型依赖注入</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> DataSource <span class="title">dataSource</span><span class="params">(BookService bookService)</span></span>&#123;</span><br><span class="line">    System.out.println(bookService);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>注意：引用类型注入只需要为bean 定义方法设置形参即可，容器会根据类型自动装配对象</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://1614196964.github.io/2021/12/13/%E8%AE%A1%E5%88%92%E4%B9%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/1614196964.github.io/images/avatar.gif">
      <meta itemprop="name" content="苏小栋">
      <meta itemprop="description" content="敬平静，以及那些破坏平静的人">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaLaLand">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1614196964.github.io/2021/12/13/%E8%AE%A1%E5%88%92%E4%B9%A6/" class="post-title-link" itemprop="url">计划书</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-12-13 19:38:58 / 修改时间：19:39:29" itemprop="dateCreated datePublished" datetime="2021-12-13T19:38:58+08:00">2021-12-13</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="题目选择"><a href="#题目选择" class="headerlink" title="题目选择"></a>题目选择</h1><h1 id="语言选择"><a href="#语言选择" class="headerlink" title="语言选择"></a>语言选择</h1><ul>
<li>采用Java语言进行开发</li>
</ul>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><ol>
<li>Java语言提供了丰富的API接口，为我们在线程的创建、线程的并发执行和互斥执行都有很方便的接口实现，大大简化了开发。</li>
<li>利用maven项目的依赖来导入jar包，可以实现很优雅的jar包版本管理。可以构建项目，管理依赖，生成一些简单的单元测试报告。</li>
<li>Java的JUnit单元测试框架，可以书写一系列的 测试方法，对项目所有的 接口或者方法进行单元测试。 添加，删除，屏蔽测试方法，不影响其他的测试方法。 开源框架都对JUnit 有相应的支持。</li>
<li>采用SLF4J和Logback打印日志，日志记录是应用程序运行中必不可少的一部分。具有良好格式和完备信息的日志记录可以在程序出现问题时帮助开发人员迅速地定位错误的根源。</li>
<li>采用Java-GUI来实现图形界面窗口，给用户更好，更直观的体验。</li>
</ol>
<h1 id="版本管理"><a href="#版本管理" class="headerlink" title="版本管理"></a>版本管理</h1><ul>
<li>采用Git项目管理</li>
<li>由于GitHub可能会出现登陆不上的问题所以课程设计的所有代码上传到Gitee上</li>
</ul>
<p>为了更好的进行管理项目内源码的版本，让大家更好的协同工作，采用Git的项目管理。主要分为三个分支</p>
<ol>
<li>主分支（master）<ul>
<li>团队成员可以从主分支上获得线上（正式环境）的代码，稳定的，可运行的，自认为无Bug的代码最新版本。</li>
</ul>
</li>
<li>开发分支（develop）<ul>
<li>团队成员可以从开发分支上获得最新开发进展的代码</li>
</ul>
</li>
<li>功能分支（feature）<ul>
<li>团队成员开发新功能的时候开辟一个功能分支，功能完毕之后合并到开发分支</li>
</ul>
</li>
</ol>
<p>由组长来完成主分支的合并，代码的上传</p>
<h1 id="开发文档"><a href="#开发文档" class="headerlink" title="开发文档"></a>开发文档</h1><ul>
<li>采用瀑布模型。每一阶段开发的时候，必须要有相应的说明文档，便于维护，下一阶段的任务的开展以及最后课程设计说明书的撰写。</li>
<li>文档要求采用Markdown语法。<ul>
<li>Markdown 能被使用来撰写电子书，如：Gitbook。</li>
<li>当前许多网站都广泛使用 Markdown 来撰写帮助文档或是用于论坛上发表消息。例如：GitHub、Gitee、CSDN等。</li>
</ul>
</li>
</ul>
<h1 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h1><p>IntelliJ IDEA</p>
<h1 id="人员分工"><a href="#人员分工" class="headerlink" title="人员分工"></a>人员分工</h1><ul>
<li>苏栋：项目管理，GUI的实现，对提交到develop分支的功能进行测试，项目验收汇报。</li>
<li>李洋：线程同步和互斥的实现，说明文档的撰写，设计说明书的撰写。</li>
<li>王浩然：数据库的链接与管理，说明文档的撰写，单元测试。</li>
<li>冯羿漩：实验数据的准备，文件的读取和运行结果的存储操作，说明文档的撰写。</li>
</ul>
<h1 id="开发日计划"><a href="#开发日计划" class="headerlink" title="开发日计划"></a>开发日计划</h1><table>
<thead>
<tr>
<th>日期</th>
<th align="left">事件</th>
</tr>
</thead>
<tbody><tr>
<td>12月13日</td>
<td align="left">对题目进行讨论分析，确定选题，确定开发语言和开发工具等</td>
</tr>
<tr>
<td>12月14日</td>
<td align="left">统一开发工具，让没有使用过IDEA的组员熟悉IDEA，将IDEA与Git绑定等</td>
</tr>
<tr>
<td>12月15日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月16日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月17日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月18日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月19日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月20日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月21日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月22日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月23日</td>
<td align="left"></td>
</tr>
<tr>
<td>12月24日</td>
<td align="left"></td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://1614196964.github.io/2021/11/28/hexo%E6%8C%87%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/1614196964.github.io/images/avatar.gif">
      <meta itemprop="name" content="苏小栋">
      <meta itemprop="description" content="敬平静，以及那些破坏平静的人">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaLaLand">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1614196964.github.io/2021/11/28/hexo%E6%8C%87%E4%BB%A4/" class="post-title-link" itemprop="url">Hexo 指令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-28 15:46:06" itemprop="dateCreated datePublished" datetime="2021-11-28T15:46:06+08:00">2021-11-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-12-01 15:08:58" itemprop="dateModified" datetime="2021-12-01T15:08:58+08:00">2021-12-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="初始化仓库"><a href="#初始化仓库" class="headerlink" title="初始化仓库"></a>初始化仓库</h1><p>在<code>\source\_post</code>目录下</p>
<p>创建一个新的笔记</p>
<p><code>hexo new post [笔记名字]</code> </p>
<p>在<code>\source\_drafts</code>目录下</p>
<p>创建一个草稿</p>
<p><code>hexo new draft [草稿名字]</code></p>
<p>查看草稿</p>
<p><code>hexo s --draft</code></p>
<p>发布草稿</p>
<p><code>hexo publish [草稿名字]</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://1614196964.github.io/2021/11/18/Anaconda%E7%AE%A1%E7%90%86%E7%8E%AF%E5%A2%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/1614196964.github.io/images/avatar.gif">
      <meta itemprop="name" content="苏小栋">
      <meta itemprop="description" content="敬平静，以及那些破坏平静的人">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaLaLand">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1614196964.github.io/2021/11/18/Anaconda%E7%AE%A1%E7%90%86%E7%8E%AF%E5%A2%83/" class="post-title-link" itemprop="url">Anaconda环境管理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-18 15:46:06" itemprop="dateCreated datePublished" datetime="2021-11-18T15:46:06+08:00">2021-11-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-11-28 16:54:34" itemprop="dateModified" datetime="2021-11-28T16:54:34+08:00">2021-11-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-conda环境管理"><a href="#1-conda环境管理" class="headerlink" title="1. conda环境管理"></a>1. conda环境管理</h1><h2 id="1-1-创建一个新环境"><a href="#1-1-创建一个新环境" class="headerlink" title="1.1 创建一个新环境"></a>1.1 创建一个新环境</h2><p>创建一个新的环境 比如叫pytorch</p>
<ol>
<li>打开Anaconda Prompt</li>
<li>默认在base环境下</li>
<li>用<code>conda create --name pytorch</code>创建</li>
</ol>
<p><img src="../images/create-env.png" alt="create-env"></p>
<h2 id="1-2-激活新环境"><a href="#1-2-激活新环境" class="headerlink" title="1.2 激活新环境"></a>1.2 激活新环境</h2><p>创建完成之后用<code>activate pytorch</code> 激活环境</p>
<p><img src="../images/activate-env.png" alt="activate-env"></p>
<h2 id="1-3-退出新环境"><a href="#1-3-退出新环境" class="headerlink" title="1.3 退出新环境"></a>1.3 退出新环境</h2><p>如果想返回默认的环境 用<code>conda deactivate </code>就是activate 加一个de前缀</p>
<p>退出当前环境</p>
<p><img src="../images/deactivate-env.png" alt="deactivate-env"></p>
<h2 id="1-4-删除一个已有环境"><a href="#1-4-删除一个已有环境" class="headerlink" title="1.4 删除一个已有环境"></a>1.4 删除一个已有环境</h2><p>用<code>conda remove --name pytorch -all</code> 移除刚才新创建的环境</p>
<p><img src="../images/remove-env.png" alt="remove-env"></p>
<h2 id="1-5-查看已有的环境"><a href="#1-5-查看已有的环境" class="headerlink" title="1.5 查看已有的环境"></a>1.5 查看已有的环境</h2><p>用户安装的环境都被放在`~/anaconda/envs 目录下</p>
<p><img src="/images/info-env.png" alt="info-env"></p>
<h1 id="2-conda的包管理"><a href="#2-conda的包管理" class="headerlink" title="2. conda的包管理"></a>2. conda的包管理</h1><h2 id="2-1-查看该环境下已安装的包"><a href="#2-1-查看该环境下已安装的包" class="headerlink" title="2.1 查看该环境下已安装的包"></a>2.1 查看该环境下已安装的包</h2><p><code>conda list</code> 查看</p>
<p><img src="/images/conda-list.png" alt="conda-list"></p>
<h2 id="2-2-查看某个指定环境下的包"><a href="#2-2-查看某个指定环境下的包" class="headerlink" title="2.2 查看某个指定环境下的包"></a>2.2 查看某个指定环境下的包</h2><p><code>conda list -n bertqa</code>  </p>
<p>bertqa是我之前的一个环境</p>
<h2 id="2-3-安装包"><a href="#2-3-安装包" class="headerlink" title="2.3 安装包"></a>2.3 安装包</h2><p><code>conda install pandas</code>  在本环境下安装</p>
<p><code>conda install -n bertqa pandas </code> 在bertqa环境下安装</p>
<h2 id="2-4-更新包"><a href="#2-4-更新包" class="headerlink" title="2.4 更新包"></a>2.4 更新包</h2><p><code>conda update pandas</code></p>
<p><code>conda update -n bertqa pandas</code></p>
<h2 id="2-5-删除包"><a href="#2-5-删除包" class="headerlink" title="2.5 删除包"></a>2.5 删除包</h2><p><code>conda remove -n bertqa pands</code></p>
<h1 id="3-conda管理"><a href="#3-conda管理" class="headerlink" title="3. conda管理"></a>3. conda管理</h1><h2 id="3-1-更新conda"><a href="#3-1-更新conda" class="headerlink" title="3.1 更新conda"></a>3.1 更新conda</h2><p><code>conda update conda</code></p>
<h2 id="3-2-更新anaconda"><a href="#3-2-更新anaconda" class="headerlink" title="3.2 更新anaconda"></a>3.2 更新anaconda</h2><p><code>conda update anaconda</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://1614196964.github.io/2021/11/16/Blog%E9%81%87%E5%88%B0%E7%9A%84%E5%BC%AF%E8%B7%AF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/1614196964.github.io/images/avatar.gif">
      <meta itemprop="name" content="苏小栋">
      <meta itemprop="description" content="敬平静，以及那些破坏平静的人">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaLaLand">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/1614196964.github.io/2021/11/16/Blog%E9%81%87%E5%88%B0%E7%9A%84%E5%BC%AF%E8%B7%AF/" class="post-title-link" itemprop="url">Blog遇到的弯路</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-11-16 15:46:06" itemprop="dateCreated datePublished" datetime="2021-11-16T15:46:06+08:00">2021-11-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-11-28 16:05:38" itemprop="dateModified" datetime="2021-11-28T16:05:38+08:00">2021-11-28</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li><p>解析域名的时候 ping出来的可能是 <code>x:x:x:x</code>的ip6 这时候需要用 </p>
<p>ping -4 url 得到ip4 地址</p>
<p>ping -6 url 得到ip6 地址</p>
</li>
<li><p>在hexo d的时候需要保证GitHub可访问状态</p>
</li>
<li><p>在修改权限不够的文件时, 可以右键属性–安全–用户权限–允许</p>
</li>
<li><p>git clone 速度慢</p>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是我们要clone的</span></span><br><span class="line">git clone https:<span class="comment">//github.com/Hackergeek/architecture-samples</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//使用镜像</span></span><br><span class="line">git clone https:<span class="comment">//github.com.cnpmjs.org/Hackergeek/architecture-samples</span></span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line">git clone https:<span class="comment">//hub.fastgit.org/kubernetes/kubernetes.git</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//使用镜像</span></span><br><span class="line">git clone https:<span class="comment">//git.sdut.me/Hackergeek/architecture-samples</span></span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">苏小栋</p>
  <div class="site-description" itemprop="description">敬平静，以及那些破坏平静的人</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/1614196964.github.io/archives/">
        
          <span class="site-state-item-count">7</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/1614196964.github.io/tags/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">苏小栋</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/1614196964.github.io/lib/anime.min.js"></script>
  <script src="/1614196964.github.io/lib/velocity/velocity.min.js"></script>
  <script src="/1614196964.github.io/lib/velocity/velocity.ui.min.js"></script>

<script src="/1614196964.github.io/js/utils.js"></script>

<script src="/1614196964.github.io/js/motion.js"></script>


<script src="/1614196964.github.io/js/schemes/pisces.js"></script>


<script src="/1614196964.github.io/js/next-boot.js"></script>




  















  

  

</body>
</html>
